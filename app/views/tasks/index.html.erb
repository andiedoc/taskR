<% provide(:title, User.find(session[:user_id]).name) %>

<div class="row">
  <section class="user_tasks">
    <h1>tasks</h1>
    <p><%= link_to "new task", new_task_path, class: 'btn btn-success btn-sm btn-block' %></p>
    <div class="table-responsive">
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th>id</th>
            <th>user id</th>
            <th>category</th>
            <th>name</th>
            <th>duration</th>
            <th>created at</th>
            <th>started at</th>
            <th>stopped at</th>
            <th>updated at</th>
            <th>active</th>
            <th colspan="5">actions</th>
          </tr>
        </thead>
        <tbody>
          <% @tasks.each do |task| %>
              <tr>
                <td><%= task.id %></td>
                <td><%= task.user_id %></td>
                <td><%= task.category %></td>
                <td><%= task.name %></td>
                <td><%= task.duration %></td>
                <td><%= task.created_at %></td>
                <td><%= task.started_at %></td>
                <td><%= task.stopped_at %></td>
                <td><%= task.updated_at %></td>
                <td><%= task.active %></td>
                <td><%= link_to "Start", start_task_path(task), class: 'btn btn-success btn-sm' %></td>
                <td><%= link_to "Stop", stop_task_path(task), class: 'btn btn-danger btn-sm' %></td>
                <td><%= link_to "Show", task, class: 'btn btn-primary btn-sm' %></td>
                <td><%= link_to "Edit", edit_task_path(task), class: 'btn btn-primary btn-sm' %></td>
                <td><%= link_to "Remove", task, method: :delete, data: { confirm: "Are you sure?" }, class: 'btn btn-danger btn-sm' %></td>
              </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </section>
</div>